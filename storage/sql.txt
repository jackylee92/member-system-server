
create table user_account
(
	id int(10) auto_increment
		primary key,
	username varchar(100) default '' not null comment '用户名',
	password varchar(150) default '' not null comment '密码',
	create_time datetime not null comment '创建时间',
	update_time datetime not null comment '更新时间',
	nickname varchar(255) default '' not null comment '昵称',
	delete_flag tinyint(2) default 0 not null comment '虚拟删除 0:未删除 1:已删除',
	status tinyint(2) default 0 not null comment '状态0:未知 1:启用 2:禁用'
);

create table user_log
(
	id int auto_increment
		primary key,
	user_id int default 0 not null comment '用户ID',
	type tinyint(255) default 0 not null comment '类型 0:未知 1:登录 2:登出',
	content text not null comment '提交数据',
	action varchar(30) default '' not null comment '操作',
	create_time datetime not null comment '创建时间',
	update_time datetime not null on update CURRENT_TIMESTAMP comment '更新时间',
	status tinyint(2) default 0 not null comment '状态 0:未知 1:正常',
	delete_flag tinyint(2) default 0 not null comment '虚拟删除 0:未删除 1:已删除',
	remark varchar(255) default '' not null comment '一句话说明'
);

create table valid_code
(
	id int(10) auto_increment comment '主键'
		primary key,
	code varchar(10) not null comment '验证码',
	status tinyint(2) default 0 null comment '状态 0：未知 1：未使用 2：已使用 3：已失效',
	user_id int(10) default 0 null comment '用户ID',
	email varchar(30) null comment '邮箱',
	phone varchar(20) null comment '手机号',
	msg_type tinyint(2) default 0 null comment '消息类型 0：未知 1：注册code',
	msg varchar(255) null comment '消息内容',
	update_time datetime null comment '更新时间',
	expire_time datetime null comment '过期时间',
	create_time datetime not null comment '创建时间',
	delete_flag tinyint(2) default 0 null
)
comment '验证码记录表';

create index index_code
	on valid_code (code);

